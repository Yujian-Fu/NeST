from cProfile import label
from sqlite3 import Time
from turtle import color
import numpy as np 
import matplotlib.pyplot as plt
from scipy.optimize import curve_fit
from scipy.optimize import leastsq
import math
import random
from matplotlib.ticker import FuncFormatter
import matplotlib.ticker as mtick

# Recall@1 = 0.35
NC =      [63775, 63750, 63725, 63700, 63675, 63650,  63625, 63600, 63575, 63550, 63525, 63650, 63475, 63450, 63425, 63400, 63375, 63350, 63325, 63300, 63275,63250,
            63225, 63200, 63175, 63150, 63125, 63100, 63075, 63050, 63025, 10300, 102000, 101000, 100000, 99000, 98000, 97000, 96000,
            95000, 94000, 93000, 92000, 91000, 90000, 89000, 88000, 87000, 86000, 85000, 84000, 83000, 82000, 81000, 80000, 79000, 78000, 77000, 76000,
            75000, 74000, 73000, 72000, 71000,     70000, 69000, 68000, 67000, 66000, 65000, 64000,  63000, 62000, 61000, 60000, 59000, 58000,
            57000, 56000, 55000, 54000, 53000, 52000, 51000, 50000, 49000, 48000, 47000, 46000,  45000, 44000,43000, 42000, 41000, 40000]
SumTime = [0.0458015, 0.04738, 0.0467623,0.0475098, 0.0419,0.0477256, 0.044,0.0458, 0.0456229,0.0466,0.04321, 0.0505, 0.0465,0.0477,0.0465, 0.0466, 0.04668, 0.046, 0.0432,
            0.0455, 0.043, 0.0439, 0.0435, 0.0458, 0.044, 0.0461,0.0461, 0.043, 0.0452, 0.0467, 0.0453, 0.0542,0.0503, 0.0544, 0.0542, 0.0525, 0.0534, 0.0519, 0.05208,
            0.0567, 0.0573, 0.0559, 0.0543, 0.0532, 0.0547, 0.055, 0.05317, 0.048142, 0.052, 0.049, 0.050, 0.049, 0.0506, 0.0550, 0.05512,0.0588, 0.056, 0.0567, 0.0582,
            0.0494, 0.0526, 0.0529, 0.05122, 0.0523, 0.0479, 0.0478, 0.0455, 0.048, 0.0458, 0.0442, 0.0462, 0.044, 0.044, 0.0445, 0.0483, 0.0574, 0.0459,
            0.0593, 0.0599, 0.0576, 0.058, 0.049, 0.0511, 0.0564, 0.0489, 0.05179, 0.0562,0.0509, 0.0533, 0.04689, 0.052, 0.0501, 0.0482, 0.0630, 0.0504]


NC = [10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17000, 17500, 18000, 18500, 19000, 19500, 20000, 20500, 21000, 21500, 22000, 22500, 23000, 23500, 24000, 24500, 25000, 25500, 26000, 26500, 27000, 27500, 28000, 28500, 29000, 29500, 30000, 30500, 31000, 31500, 32000, 32500, 33000, 33500, 34000, 34500, 35000, 35500, 36000, 36500, 37000, 37500, 38000, 38500, 39000, 39500, 40000, 29525, 29550, 29575, 29600, 29625, 29650, 29675, 29700, 29725, 29750, 29775, 29800, 29825, 29850, 29875, 29900, 29925, 29950, 29975, 30000, 30025, 30050, 30075, 30100, 30125, 30150, 30175, 30200, ]
Canlist = [5253.12, 5226.8, 3788.27, 3728.75, 4405.68, 3304.39, 3339.97, 3370.54, 3329.6, 2462.95, 2714.61, 2435.33, 2108.84, 2283, 1920.93, 1978.66, 1865.83, 1812.3, 1657.91, 1715.09, 1522.78, 1486.85, 1499.99, 1513.44, 1436.61, 1450.29, 1334.59, 1308.37, 1283.84, 1259.52, 1235.43, 1173.02, 1151.59, 1130.85, 1110.81, 1054.59, 1071.77, 1017.9, 965.988, 984.292, 967.501, 951.794, 968.652, 889.702, 876.25, 892.919, 879.415, 836.384, 852.966, 811.275, 827.97, 759.714, 748.951, 765.731, 782.343, 745.38, 709.628, 700.645, 692.164, 683.992, 965.175, 998.684, 997.828, 996.966, 996.075, 995.342, 960.361, 1027.91, 993.06, 992.265, 991.498, 1024.74, 1023.9, 989.102, 988.315, 987.415, 986.551, 985.782, 984.793, 983.953, 983.135, 1016.32, 981.67, 1014.57, 1013.73, 1012.96, 978.329, 977.489, ]
CenTime = [0.030966, 0.0322366, 0.0268758, 0.0276936, 0.031858, 0.0273184, 0.0287878, 0.030114, 0.0306807, 0.0259813, 0.0287419, 0.0276893, 0.0263191, 0.0284968, 0.0263015, 0.0279154, 0.0276236, 0.0283921, 0.0274872, 0.0288386, 0.0272058, 0.0273171, 0.0279568, 0.0288918, 0.0287821, 0.0295277, 0.028303, 0.0291045, 0.0291927, 0.029787, 0.0303498, 0.0300373, 0.030301, 0.030667, 0.0307832, 0.03074, 0.0312852, 0.0312507, 0.0312146, 0.0316508, 0.0325692, 0.0331571, 0.0347779, 0.0329057, 0.0334737, 0.0340216, 0.0348594, 0.0353083, 0.0367049, 0.0354943, 0.0364369, 0.035714, 0.0360331, 0.0371739, 0.0388167, 0.038414, 0.0376464, 0.0382772, 0.0377469, 0.0390397, 0.0309381, 0.0313307, 0.0312875, 0.0313145, 0.0319783, 0.0314378, 0.0298516, 0.0323353, 0.0315831, 0.0313656, 0.0317904, 0.0321332, 0.0323202, 0.0308241, 0.0311738, 0.0311144, 0.0309849, 0.0308248, 0.0312243, 0.0310494, 0.0309515, 0.0313858, 0.0311744, 0.0313697, 0.0316629, 0.0317413, 0.0310535, 0.0320291, ]
VecTime = [0.0587002, 0.0597881, 0.0439622, 0.0458368, 0.0549779, 0.0420232, 0.0435166, 0.0429231, 0.04195, 0.0315565, 0.0347279, 0.0313146, 0.0278538, 0.0298623, 0.025468, 0.0265713, 0.0251268, 0.0242968, 0.0226236, 0.0233619, 0.020992, 0.020136, 0.0204118, 0.020806, 0.0199939, 0.0202212, 0.0189254, 0.0186282, 0.0188294, 0.0185857, 0.0184064, 0.0173121, 0.0176604, 0.0172755, 0.017139, 0.016248, 0.0165731, 0.0159836, 0.0154233, 0.0156638, 0.0155411, 0.0152685, 0.0155679, 0.014562, 0.014417, 0.0144173, 0.0143342, 0.014149, 0.0142242, 0.0137164, 0.0140183, 0.0131656, 0.0130035, 0.0134443, 0.0137106, 0.0130335, 0.0126526, 0.0127628, 0.0122823, 0.0123072, 0.0151905, 0.0151394, 0.0150783, 0.01517, 0.0154857, 0.0151511, 0.0148174, 0.0159072, 0.0152617, 0.0150876, 0.0156588, 0.0156402, 0.0155613, 0.0151852, 0.0150097, 0.015254, 0.015432, 0.0151946, 0.0151605, 0.0150159, 0.0150197, 0.015509, 0.0152265, 0.0153128, 0.0157894, 0.0159231, 0.0153082, 0.015263, ]
SumTime = [0.0896662, 0.0920247, 0.070838, 0.0735304, 0.0868358, 0.0693415, 0.0723044, 0.0730371, 0.0726307, 0.0575379, 0.0634699, 0.0590039, 0.0541729, 0.058359, 0.0517696, 0.0544867, 0.0527503, 0.0526888, 0.0501108, 0.0522005, 0.0481978, 0.0474531, 0.0483686, 0.0496978, 0.048776, 0.049749, 0.0472284, 0.0477327, 0.048022, 0.0483727, 0.0487562, 0.0473494, 0.0479614, 0.0479425, 0.0479222, 0.046988, 0.0478583, 0.0472343, 0.0466379, 0.0473146, 0.0481103, 0.0484256, 0.0503458, 0.0474677, 0.0478907, 0.0484389, 0.0491935, 0.0494573, 0.0509292, 0.0492108, 0.0504553, 0.0488796, 0.0490367, 0.0506182, 0.0525272, 0.0514476, 0.050299, 0.0510399, 0.0500291, 0.0513469, 0.0461286, 0.04647, 0.0463658, 0.0464845, 0.047464, 0.046589, 0.044669, 0.0482424, 0.0468448, 0.0464532, 0.0474492, 0.0477734, 0.0478816, 0.0460093, 0.0461835, 0.0463684, 0.0464169, 0.0460194, 0.0463848, 0.0460653, 0.0459712, 0.0468948, 0.0464008, 0.0466825, 0.0474524, 0.0476644, 0.0463618, 0.0472921, ]

plt.scatter(np.array(NC) * 1000, np.array(SumTime), label = "Code Length = 25 Bytes")




NC = [42000, 44000, 46000, 48000, 50000, 52000, 54000, 56000, 58000, 60000, 62000, 64000, 66000, 68000, 70000, 72000, 74000, 76000, 78000, 80000, 82000, 84000, 72400, 72800, 73200, 73600, 74000, ]
Canlist = [4281.68, 5170.99, 3756.25, 2708.54, 2113.9, 1627.32, 1779.59, 1221.81, 1359.93, 1126.13, 955.533, 861.443, 882.178, 810.5, 786.512, 706.636, 701.992, 614.557, 586.281, 533.007, 533.273, 496.53, 688.55, 699.066, 681.178, 691.397, 673.379, ]
CenTime = [0.129989, 0.162722, 0.133606, 0.111438, 0.104215, 0.0859059, 0.0957922, 0.0820047, 0.0884167, 0.0826253, 0.0764125, 0.0780213, 0.0810285, 0.0812872, 0.08098, 0.0762204, 0.0839641, 0.0817086, 0.0782068, 0.0791825, 0.0857206, 0.082275, 0.0768276, 0.0829, 0.0776083, 0.0800493, 0.0784779, ]
VecTime = [0.0610938, 0.0742005, 0.0552022, 0.0417177, 0.0350422, 0.0258735, 0.0276881, 0.0206588, 0.0230502, 0.0199802, 0.0176756, 0.0166985, 0.0189933, 0.0163803, 0.0151003, 0.0142831, 0.0156397, 0.0147998, 0.0125038, 0.0123073, 0.0144622, 0.0136563, 0.015229, 0.0165863, 0.0150799, 0.0155426, 0.0153011, ]
SumTime = [0.191083, 0.236923, 0.188808, 0.153156, 0.139257, 0.111779, 0.12348, 0.102663, 0.111467, 0.102606, 0.0940881, 0.0947198, 0.100022, 0.0976675, 0.0960803, 0.0905035, 0.0996038, 0.0965085, 0.0907106, 0.0914897, 0.100183, 0.0959313, 0.0920567, 0.0994863, 0.0926882, 0.0955919, 0.093779, ]
plt.scatter(np.array(NC) * 1000, SumTime, label = "Code Length = 10 Bytes")


NC = [11000, 12000, 13000, 14000, 15000, 16000, 17000, 18000, 19000, 20000, 21000, 21100, 21200, 21300, 21400, 21500, 21600, 21700, 21800, 21900, 22000, 22100, 21100, 21200, 21300, 21400, 21500, 21600, 21700, 21800, 21900, 22000, 22100, ]
Canlist = [4658.53, 3985.56, 3695.43, 2863.99, 3146.23, 2501.84, 2043.27, 1980.1, 1705.66, 1665, 1484.46, 1573.13, 1518.79, 1559.28, 1599.87, 1546.21, 1586.51, 1486.53, 1526.19, 1565.69, 1467.88, 1415.81, 1573.13, 1518.79, 1559.28, 1599.87, 1546.21, 1586.51, 1486.53, 1526.19, 1565.69, 1467.88, 1415.81, ]
CenTime = [0.0298887, 0.0286205, 0.0293165, 0.0275234, 0.0313968, 0.0284162, 0.0270978, 0.0281591, 0.0278266, 0.029041, 0.0282146, 0.0291976, 0.0286027, 0.0294955, 0.0302467, 0.0296322, 0.0305561, 0.0295068, 0.0299354, 0.029814, 0.0283871, 0.0279414, 0.0291652, 0.027705, 0.0280891, 0.0286322, 0.0284509, 0.0289249, 0.0282241, 0.0285383, 0.0292317, 0.0279315, 0.0273451, ]
VecTime = [0.052907, 0.0466453, 0.0440518, 0.0348102, 0.0376967, 0.0307133, 0.0262101, 0.0251419, 0.0227972, 0.021853, 0.0198484, 0.0210538, 0.0209111, 0.0207057, 0.0215903, 0.0208207, 0.0214531, 0.0203451, 0.0206529, 0.0214285, 0.0200062, 0.0196601, 0.0219548, 0.0206388, 0.0208428, 0.0217584, 0.0210478, 0.0215108, 0.0208325, 0.0212563, 0.0218855, 0.0205208, 0.020023, ]
SumTime = [0.0827957, 0.0752658, 0.0733683, 0.0623336, 0.0690935, 0.0591295, 0.0533078, 0.053301, 0.0506239, 0.050894, 0.048063, 0.0502514, 0.0495138, 0.0502012, 0.051837, 0.0504529, 0.0520092, 0.0498519, 0.0505883, 0.0512425, 0.0483933, 0.0476015, 0.05112, 0.0483438, 0.0489319, 0.0503906, 0.0494987, 0.0504357, 0.0490566, 0.0497946, 0.0511172, 0.0484523, 0.0473681, ]
#plt.scatter(np.array(NC) * 1000, SumTime, label = "Code Length = 10 Bytes")

plt.legend()
plt.xlabel("NC")
plt.ylabel("Search Time / ms")
plt.title("SpaceV1B NC Learning with Recall10@10 = 0.43")
plt.show()

NC = [42000, 44000, 46000, 48000, 50000, 52000, 54000, 56000, 58000, 60000, 62000, 64000, 66000, 68000, 70000, 72000, 74000, 76000, 64400, 64800, 65200, 65600, 66000, ]
Canlist = [4281.68, 5170.99, 3756.25, 2708.54, 2113.9, 1627.32, 1779.59, 1221.81, 1359.93, 1126.13, 955.533, 861.443, 882.178, 810.5, 786.512, 706.636, 701.992, 614.557, 1017.08, 882.681, 908.835, 903.241, 881.895, ]
CenTime = [0.129169, 0.161298, 0.13384, 0.112924, 0.0998404, 0.0854572, 0.0959647, 0.0772787, 0.0871756, 0.0815832, 0.07468, 0.0734619, 0.0778706, 0.0763151, 0.0792354, 0.0769817, 0.0790097, 0.0766552, 0.0834668, 0.0789994, 0.0777726, 0.0807151, 0.0830763, ]
VecTime = [0.0585346, 0.0710239, 0.0517442, 0.0390796, 0.0310245, 0.0244059, 0.0267317, 0.0196866, 0.0215805, 0.0190831, 0.0165182, 0.0154893, 0.0159627, 0.015182, 0.0150575, 0.0139778, 0.0139245, 0.0128784, 0.0182054, 0.0176449, 0.016024, 0.0193791, 0.0189658, ]
SumTime = [0.187704, 0.232321, 0.185585, 0.152004, 0.130865, 0.109863, 0.122696, 0.0969653, 0.108756, 0.100666, 0.0911982, 0.0889511, 0.0938333, 0.0914971, 0.0942928, 0.0909595, 0.0929342, 0.0895336, 0.101672, 0.0966442, 0.0937965, 0.100094, 0.102042, ]

plt.scatter(np.array(NC) * 1000, SumTime, label = "Taget Recall10@10 = 0.48")
plt.legend()



NC = [21000, 22000, 23000, 24000, 25000, 26000, 27000, 28000, 29000, 30000, 31000, 32000, 33000, 34000, 35000, 36000, 37000, 38000, 39000, 40000, 41000, 42000, 43000, 44000, 45000, 46000, 47000, 48000, 49000, 50000, 51000, 52000, 53000, 54000, 55000, 56000, 57000, 58000, 59000, 60000, 61000, 51100, 51200, 51300, 51400, 51500, 51600, 51700, 51800, 51900, 52000, 52100, 52200, ]
Canlist = [5482.78, 10092.8, 5857.92, 3310.03, 2820.09, 2681.66, 2511.11, 2462.78, 1990.28, 1887.48, 2126.44, 1768.09, 1589.18, 1508.34, 1462.88, 1304.78, 1184, 1123, 1117.41, 1112.77, 1010.34, 986.47, 918.542, 898.567, 834.974, 862.092, 823.888, 786.562, 771.803, 757.251, 683.194, 690.623, 678.296, 666.194, 673.435, 643.599, 596.815, 586.695, 559.569, 550.31, 558.236, 682.601, 681.396, 680.19, 698.777, 697.485, 716.151, 695.133, 674.021, 692.643, 691.335, 690.021, 708.389, ]
CenTime = [0.0649445, 0.104465, 0.0741909, 0.0529563, 0.0503275, 0.0511156, 0.0511917, 0.0524922, 0.0471321, 0.0483216, 0.0545119, 0.050045, 0.0500768, 0.0524136, 0.0534261, 0.0503825, 0.0497422, 0.0497174, 0.0517193, 0.0559642, 0.0529041, 0.0527502, 0.0519222, 0.0529194, 0.0502135, 0.0512664, 0.0508702, 0.0509735, 0.051686, 0.0525901, 0.0507466, 0.0527229, 0.0542752, 0.0541221, 0.056894, 0.0575977, 0.0555271, 0.0566241, 0.0551482, 0.0561544, 0.0568704, 0.0503716, 0.0504359, 0.0514155, 0.0518259, 0.0515788, 0.0535606, 0.051911, 0.051031, 0.0518568, 0.0524309, 0.0519233, 0.0525, ]
VecTime = [0.0643639, 0.126964, 0.0766015, 0.0452473, 0.0396416, 0.0368201, 0.0347358, 0.0353759, 0.0288627, 0.0284691, 0.0308172, 0.02661, 0.0243524, 0.0245283, 0.0235729, 0.0211566, 0.0203188, 0.0187598, 0.0194193, 0.0187791, 0.0181383, 0.0180265, 0.0169991, 0.0166441, 0.0162458, 0.0166183, 0.0159657, 0.0150405, 0.0153627, 0.0148867, 0.0135414, 0.0139421, 0.0139816, 0.0134933, 0.0139612, 0.0135557, 0.0124417, 0.0123344, 0.0119017, 0.0116963, 0.011946, 0.0133708, 0.0131478, 0.0134483, 0.0138542, 0.0138122, 0.0138415, 0.0134738, 0.0133638, 0.0133884, 0.013544, 0.0133275, 0.01368, ]
SumTime = [0.129308, 0.231429, 0.150792, 0.0982036, 0.0899691, 0.0879357, 0.0859276, 0.0878681, 0.0759947, 0.0767907, 0.0853291, 0.076655, 0.0744291, 0.076942, 0.0769991, 0.0715391, 0.070061, 0.0684772, 0.0711387, 0.0747433, 0.0710424, 0.0707767, 0.0689213, 0.0695635, 0.0664593, 0.0678847, 0.0668358, 0.0660141, 0.0670487, 0.0674769, 0.064288, 0.066665, 0.0682568, 0.0676154, 0.0708552, 0.0711535, 0.0679688, 0.0689586, 0.0670499, 0.0678507, 0.0688164, 0.0637424, 0.0635836, 0.0648638, 0.0656801, 0.0653911, 0.067402, 0.0653848, 0.0643947, 0.0652452, 0.0659748, 0.0652508, 0.0661801, ]
plt.scatter(np.array(NC) * 1000, np.array(CenTime) *1.5, label = "Taget Recall10@10 = 0.45")



# Targetrecall = 0.41, 8 bytes
NC = [11000, 12000, 13000, 14000, 15000, 16000, 17000, 18000, 19000, 20000, 21000, 22000, 23000, 24000, 25000, 26000, 27000, 28000, 29000, 30000, 31000, 32000, 21100, 21200, 21300, 21400, 21500, 21600, 21700, 21800, 21900, 22000, ]
Canlist = [4658.53, 3985.56, 3695.43, 2863.99, 3146.23, 2501.84, 2043.27, 1980.1, 1705.66, 1665, 1484.46, 1467.58, 1406.7, 1308.82, 1298.46, 1251.86, 1168.29, 1054.93, 1052.96, 1017.53, 984.944, 921.422, 1573.13, 1518.79, 1559.28, 1599.87, 1546.21, 1586.51, 1486.53, 1526.19, 1565.69, 1467.88, ]
CenTime = [0.0298251, 0.0288339, 0.029605, 0.026984, 0.0306963, 0.0280434, 0.0261157, 0.0268098, 0.0263314, 0.027304, 0.0262098, 0.0274228, 0.0292818, 0.0292592, 0.0301113, 0.0310413, 0.0314538, 0.0307266, 0.0322466, 0.0321445, 0.0337886, 0.0336589, 0.0294641, 0.0290114, 0.0294352, 0.029641, 0.0292973, 0.0303102, 0.0291817, 0.0294824, 0.0301117, 0.0291278, ]
VecTime = [0.0513879, 0.0455706, 0.043082, 0.0339916, 0.0377627, 0.031229, 0.0253946, 0.0248975, 0.0221324, 0.0216412, 0.0199606, 0.0203709, 0.0189486, 0.018165, 0.018133, 0.0174736, 0.0168189, 0.0158985, 0.0160252, 0.01589, 0.0153002, 0.0147922, 0.0211708, 0.0206042, 0.0210744, 0.0213188, 0.0207791, 0.0211247, 0.0206151, 0.0208936, 0.0216205, 0.02056, ]
SumTime = [0.081213, 0.0744045, 0.072687, 0.0609756, 0.0684589, 0.0592724, 0.0515104, 0.0517073, 0.0484638, 0.0489452, 0.0461704, 0.0477937, 0.0482304, 0.0474242, 0.0482443, 0.0485149, 0.0482728, 0.0466252, 0.0482718, 0.0480345, 0.0490887, 0.0484511, 0.0506349, 0.0496156, 0.0505095, 0.0509599, 0.0500764, 0.0514349, 0.0497968, 0.050376, 0.0517322, 0.0496878, ]
plt.scatter(np.array(NC) * 1000, SumTime, label = "Taget Recall10@10 = 0.42")

plt.legend()
plt.xlabel("NC")
plt.ylabel("Search Time / ms")
plt.title("SIFT1B NC Learning")
plt.show()





NC = [10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17000, 17500, 18000, 18500, 19000, 19500, 20000, 20500, 21000, 21500, 22000, 22500, 23000, 23500, 24000, 24500, 25000, 25500, 26000, 26500, 27000, 27500, 28000, 28500, 29000, 29500, 30000, 30500, 31000, 31500, 32000, 32500, 33000, 33500, 34000, 34500, 35000, 35500, 36000, 36500, 37000, 37500, 38000, 38500, 39000, 39500, 40000, 29525, 29550, 29575, 29600, 29625, 29650, 29675, 29700, 29725, 29750, 29775, 29800, 29825, 29850, 29875, 29900, 29925, 29950, 29975, 30000, 30025, 30050, 30075, 30100, 30125, 30150, 30175, 30200, ]
Canlist = [5253.12, 5226.8, 3788.27, 3728.75, 4405.68, 3304.39, 3339.97, 3370.54, 3329.6, 2462.95, 2714.61, 2435.33, 2108.84, 2283, 1920.93, 1978.66, 1865.83, 1812.3, 1657.91, 1715.09, 1522.78, 1486.85, 1499.99, 1513.44, 1436.61, 1450.29, 1334.59, 1308.37, 1283.84, 1259.52, 1235.43, 1173.02, 1151.59, 1130.85, 1110.81, 1054.59, 1071.77, 1017.9, 965.988, 984.292, 967.501, 951.794, 968.652, 889.702, 876.25, 892.919, 879.415, 836.384, 852.966, 811.275, 827.97, 759.714, 748.951, 765.731, 782.343, 745.38, 709.628, 700.645, 692.164, 683.992, 965.175, 998.684, 997.828, 996.966, 996.075, 995.342, 960.361, 1027.91, 993.06, 992.265, 991.498, 1024.74, 1023.9, 989.102, 988.315, 987.415, 986.551, 985.782, 984.793, 983.953, 983.135, 1016.32, 981.67, 1014.57, 1013.73, 1012.96, 978.329, 977.489, ]
CenTime = [0.030966, 0.0322366, 0.0268758, 0.0276936, 0.031858, 0.0273184, 0.0287878, 0.030114, 0.0306807, 0.0259813, 0.0287419, 0.0276893, 0.0263191, 0.0284968, 0.0263015, 0.0279154, 0.0276236, 0.0283921, 0.0274872, 0.0288386, 0.0272058, 0.0273171, 0.0279568, 0.0288918, 0.0287821, 0.0295277, 0.028303, 0.0291045, 0.0291927, 0.029787, 0.0303498, 0.0300373, 0.030301, 0.030667, 0.0307832, 0.03074, 0.0312852, 0.0312507, 0.0312146, 0.0316508, 0.0325692, 0.0331571, 0.0347779, 0.0329057, 0.0334737, 0.0340216, 0.0348594, 0.0353083, 0.0367049, 0.0354943, 0.0364369, 0.035714, 0.0360331, 0.0371739, 0.0388167, 0.038414, 0.0376464, 0.0382772, 0.0377469, 0.0390397, 0.0309381, 0.0313307, 0.0312875, 0.0313145, 0.0319783, 0.0314378, 0.0298516, 0.0323353, 0.0315831, 0.0313656, 0.0317904, 0.0321332, 0.0323202, 0.0308241, 0.0311738, 0.0311144, 0.0309849, 0.0308248, 0.0312243, 0.0310494, 0.0309515, 0.0313858, 0.0311744, 0.0313697, 0.0316629, 0.0317413, 0.0310535, 0.0320291, ]
VecTime = [0.0587002, 0.0597881, 0.0439622, 0.0458368, 0.0549779, 0.0420232, 0.0435166, 0.0429231, 0.04195, 0.0315565, 0.0347279, 0.0313146, 0.0278538, 0.0298623, 0.025468, 0.0265713, 0.0251268, 0.0242968, 0.0226236, 0.0233619, 0.020992, 0.020136, 0.0204118, 0.020806, 0.0199939, 0.0202212, 0.0189254, 0.0186282, 0.0188294, 0.0185857, 0.0184064, 0.0173121, 0.0176604, 0.0172755, 0.017139, 0.016248, 0.0165731, 0.0159836, 0.0154233, 0.0156638, 0.0155411, 0.0152685, 0.0155679, 0.014562, 0.014417, 0.0144173, 0.0143342, 0.014149, 0.0142242, 0.0137164, 0.0140183, 0.0131656, 0.0130035, 0.0134443, 0.0137106, 0.0130335, 0.0126526, 0.0127628, 0.0122823, 0.0123072, 0.0151905, 0.0151394, 0.0150783, 0.01517, 0.0154857, 0.0151511, 0.0148174, 0.0159072, 0.0152617, 0.0150876, 0.0156588, 0.0156402, 0.0155613, 0.0151852, 0.0150097, 0.015254, 0.015432, 0.0151946, 0.0151605, 0.0150159, 0.0150197, 0.015509, 0.0152265, 0.0153128, 0.0157894, 0.0159231, 0.0153082, 0.015263, ]
SumTime = [0.0896662, 0.0920247, 0.070838, 0.0735304, 0.0868358, 0.0693415, 0.0723044, 0.0730371, 0.0726307, 0.0575379, 0.0634699, 0.0590039, 0.0541729, 0.058359, 0.0517696, 0.0544867, 0.0527503, 0.0526888, 0.0501108, 0.0522005, 0.0481978, 0.0474531, 0.0483686, 0.0496978, 0.048776, 0.049749, 0.0472284, 0.0477327, 0.048022, 0.0483727, 0.0487562, 0.0473494, 0.0479614, 0.0479425, 0.0479222, 0.046988, 0.0478583, 0.0472343, 0.0466379, 0.0473146, 0.0481103, 0.0484256, 0.0503458, 0.0474677, 0.0478907, 0.0484389, 0.0491935, 0.0494573, 0.0509292, 0.0492108, 0.0504553, 0.0488796, 0.0490367, 0.0506182, 0.0525272, 0.0514476, 0.050299, 0.0510399, 0.0500291, 0.0513469, 0.0461286, 0.04647, 0.0463658, 0.0464845, 0.047464, 0.046589, 0.044669, 0.0482424, 0.0468448, 0.0464532, 0.0474492, 0.0477734, 0.0478816, 0.0460093, 0.0461835, 0.0463684, 0.0464169, 0.0460194, 0.0463848, 0.0460653, 0.0459712, 0.0468948, 0.0464008, 0.0466825, 0.0474524, 0.0476644, 0.0463618, 0.0472921, ]

plt.scatter(NC, SumTime)
plt.xlabel("NC")
plt.ylabel("Search Time / ms")
plt.title("SIFT1M Target Recall10@10 = 0.43")
plt.show()

Time = [0.031679 , 0.045587 , 0.056503 , 0.066004 , 0.079015 , 0.086302 , 0.095009 , 0.105259 , 0.115226 , 0.123513 , ]
Recall1 = [0.297800 , 0.322400 , 0.333000 , 0.338300 , 0.341000 , 0.341900 , 0.342800 , 0.343600 , 0.344200 , 0.344300 , ]
Recall = [0.297800 , 0.322400 , 0.333000 , 0.338300 , 0.341000 , 0.341900 , 0.342800 , 0.343600 , 0.344200 , 0.344300 , ]
plt.scatter(Time, Recall1, label = 'Learnt 1000')

Time = [0.033472 , 0.044574 , 0.056341 , 0.064903 , 0.078074 , 0.084483 , 0.093630 , 0.104162 , 0.110105 , 0.121277 , ]
Recall1 = [0.292200 , 0.321900 , 0.331200 , 0.336400 , 0.340000 , 0.341800 , 0.342800 , 0.343400 , 0.343800 , 0.344400 , ]
Recall = [0.292200 , 0.321900 , 0.331200 , 0.336400 , 0.340000 , 0.341800 , 0.342800 , 0.343400 , 0.343800 , 0.344400 , ]
plt.scatter(Time, Recall1, label = 'Trained')

Time = [0.034124 , 0.046532 , 0.058603 , 0.071430 , 0.080763 , 0.092312 , 0.099966 , 0.108025 , 0.120448 , 0.129248 , ]
Recall1 = [0.291100 , 0.320300 , 0.331500 , 0.335600 , 0.337200 , 0.338800 , 0.339400 , 0.340700 , 0.340700 , 0.341000 , ]
Recall = [0.291100 , 0.320300 , 0.331500 , 0.335600 , 0.337200 , 0.338800 , 0.339400 , 0.340700 , 0.340700 , 0.341000 , ]
plt.scatter(Time, Recall, label = 'Learnt 5000')


Time = [0.033570 , 0.045482 , 0.056974 , 0.069448 , 0.079899 , 0.087849 , 0.097874 , 0.105828 , 0.117287 , 0.125127 , ]
Recall1 = [0.296700 , 0.322000 , 0.331500 , 0.336000 , 0.338400 , 0.340100 , 0.341400 , 0.342000 , 0.342900 , 0.343000 , ]
Recall = [0.296700 , 0.322000 , 0.331500 , 0.336000 , 0.338400 , 0.340100 , 0.341400 , 0.342000 , 0.342900 , 0.343000 , ]
plt.scatter(Time, Recall, label = 'Learnt 2000')

Time = [0.032534 , 0.045162 , 0.057661 , 0.068426 , 0.079848 , 0.087832 , 0.097761 , 0.106710 , 0.117566 , 0.125992 , ]
Recall1 = [0.298000 , 0.322400 , 0.333200 , 0.336700 , 0.339000 , 0.340600 , 0.341400 , 0.342300 , 0.342400 , 0.342600 , ]
Recall = [0.298000 , 0.322400 , 0.333200 , 0.336700 , 0.339000 , 0.340600 , 0.341400 , 0.342300 , 0.342400 , 0.342600 , ]
plt.scatter(Time, Recall, label = 'Learnt 500')
plt.legend()
plt.show()

fig = plt.figure()
plt.rcParams["font.weight"] = "bold"
plt.rcParams["axes.labelweight"] = "bold"
ax = fig.add_subplot(111)
plt.tick_params(labelsize=10)

NC = 10000
Time = [0.032708 , 0.045487 , 0.071373 , 0.147177 , 0.213589 , 0.259350 , 0.328274 , 0.373598  ]
Recall1 = [0.313600 , 0.388200 , 0.443600 , 0.481500 , 0.491100 , 0.493700 , 0.495600 , 0.496700 ]
Recall = [0.313600 , 0.388200 , 0.443600 , 0.481500 , 0.491100 , 0.493700 , 0.495600 , 0.496700]
ax.plot(np.array(Time) / 1.5, np.array(Recall), label = "1 Million", marker = "o")

NC = 20000
Time = [0.028983 , 0.039100 , 0.058481 , 0.108280 , 0.156442 , 0.185303 , 0.231091 , 0.260512 , 0.333569 , 0.407182 , ]
Recall1 = [0.296800 , 0.381100 , 0.449000 , 0.501000 , 0.513700 , 0.515300 , 0.516700 , 0.517700 , 0.518800 , 0.519100 , ]
Recall = [0.296800 , 0.381100 , 0.449000 , 0.501000 , 0.513700 , 0.515300 , 0.516700 , 0.517700 , 0.518800 , 0.519100 , ]
ax.plot(np.array(Time),  np.array(Recall), label = "2 Million", marker = "o")

NC = 80000
Time = [0.033463 , 0.044998 , 0.064891 , 0.112140 , 0.156339 , 0.182383 , 0.217051 , 0.239031 , 0.296707 , 0.352496 , ]
Recall1 = [0.341200 , 0.413700 , 0.471400 , 0.514400 , 0.528600 , 0.531800 , 0.535900 , 0.537700 , 0.540900 , 0.542300 , ]
Recall = [0.341200 , 0.413700 , 0.471400 , 0.514400 , 0.528600 , 0.531800 , 0.535900 , 0.537700 , 0.540900 , 0.542300 , ]
ax.plot(np.array(Time) + 0.02,  np.array(Recall), label = "8 Million", marker = "o")


NC = 160000
Time = [0.036592 , 0.050570 , 0.074598 , 0.134699 , 0.179708 , 0.209069 , 0.251365 , 0.278792 , 0.342503 , 0.407692 , ]
Recall1 = [0.323600 , 0.416600 , 0.485400 , 0.537500 , 0.551700 , 0.555900 , 0.559900 , 0.561500 , 0.564500 , 0.566000 , ]
Recall = [0.323600 , 0.416600 , 0.485400 , 0.537500 , 0.551700 , 0.555900 , 0.559900 , 0.561500 , 0.564500 , 0.566000 , ]
ax.plot(np.array(Time) + 0.03, np.array(Recall), label = "16 Million", marker = "o")

#plt.plot(Time, Recall, label = NC, marker = "o")






NC = 10000
Time = [0.059136 , 0.095283 , 0.167654 , 0.364272 , 0.556655 , 0.685995 , 0.878350 , 1.010657 , 1.327959 , 1.828738 , ]
Recall1 = [0.385400 , 0.488500 , 0.575200 , 0.636100 , 0.651600 , 0.655100 , 0.658300 , 0.660000 , 0.660900 , 0.661800 , ]
Recall = [0.385400 , 0.488500 , 0.575200 , 0.636100 , 0.651600 , 0.655100 , 0.658300 , 0.660000 , 0.660900 , 0.661800 , ]
#plt.plot(Time, Recall, label = NC, marker = "o")

NC = 2000
Time = [0.040356 , 0.067658 , 0.124094 , 0.277207 , 0.432730 , 0.541866 , 0.696132 , 0.799038 , 1.051982 , 1.061609 , ]
Recall1 = [0.264400 , 0.286100 , 0.298600 , 0.302700 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , ]
Recall = [0.264400 , 0.286100 , 0.298600 , 0.302700 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , 0.303300 , ]
#plt.plot(Time, Recall, label = NC, marker = "o")

plt.title("Code Length = 8 Bytes")
plt.xlabel("Search Time / ms", fontsize = 10)
plt.ylabel("Recall@1", fontsize = 10)
plt.title("Search Performance on SIFT1B", fontsize = 18, fontweight="bold")
plt.legend(fontsize = 10)
plt.show()

